(this.webpackJsonp=this.webpackJsonp||[]).push([[43],{"64yT":function(e,r,t){"use strict";t.r(r);var n=t("q1tI"),c=t.n(n),u=t("T1Xd"),a=t("l4dk"),o=t("N1xz"),s=t("KBA3"),f=t("jDHv");const i=Object(n.memo)((e=>{const{maxColumns:r=60,interval:c=500}=e,s=Object(n.useRef)(0),i=Object(n.useRef)(0),l=Object(n.useRef)(performance.now()),m=Object(n.useRef)([]),p=Object(n.useRef)(),g=Object(u.l)(a.a),b=Object(n.useRef)(performance.now()),j=Object(n.useRef)(0),O=Object(n.useRef)(60),d=Object(n.useRef)(),M=Object(n.useCallback)((e=>{try{var r;if(!p.current){const{rAF:e}=t("MnS2"),{requestAnimationFrame:r}=f.ModuleContainer.resolve(e);p.current=r}return null===(r=p.current)||void 0===r?void 0:r.call(p,e,!0)}catch(n){}}),[]),h=()=>{(()=>{const e=performance.now(),t=Date.now();if(i.current+=1,j.current+=e-b.current,e>=l.current+c){const n=e-l.current;let u=Math.round(1e3/(j.current/i.current));const a=Math.max.apply(Math.max,[...m.current,O.current]);if(u=a<=120&&a>=110?u>120?120:u:u>60?60:u,m.current=m.current.concat(u),n>1500){let e=(n-c)/1e3;e>r&&(e=r);for(let r=1;r<=e;r++)m.current=m.current.concat(0)}m.current=m.current.slice(Math.max(m.current.length-r,0)),j.current=0,i.current=0,l.current=e;const o={fps:m.current[m.current.length-1],avgFps:Number((m.current.reduce(((e,r)=>e+r),0)/m.current.length).toFixed(2)),maxFps:Math.max.apply(Math.max,m.current),fpsColumns:m.current};O.current=Math.max(O.current,o.maxFps),d.current&&d.current.recordFps(o,O.current,t),g(o)}b.current=e})();const e=M(h);e&&(s.current=e[0])};return Object(n.useEffect)((()=>{if(!(()=>{if(!o.a.canIUse())return;return!o.a.UIManager.getRegisteredFpsMonitor()})())return;if(l.current=performance.now(),b.current=performance.now(),d.current=o.a.UIManager.registerFpsMonitor(),!d.current)return;const e=M(h);return e&&(s.current=e[0]),()=>{e&&e[1](s.current),d.current&&o.a.UIManager.unregisterFpsMonitor(d.current.id)}}),[]),null})),l=Object(n.memo)((e=>{const[r,t]=Object(n.useState)(!1);return Object(n.useEffect)((()=>{const e=()=>{const e=s.a.getConfig().enable_for_staging_account,r=s.a.getConfig().staging_account,n=s.a.getConfig().enable_fps_monitor||s.a.getConfig().enable_fps_monitor_v2,c=s.a.enable&&n||e&&r;return t(c),c};return e()||s.a.on("staging_account",e),()=>{s.a.removeListener("staging_account",e)}}),[]),r?c.a.createElement(i,e):null}));r.default=l},l4dk:function(e,r,t){"use strict";t.d(r,"a",(function(){return c}));var n=t("T1Xd");const c=Object(n.b)({key:"metricz/fps",default:{fps:0,avgFps:0,maxFps:0,fpsColumns:[]}})}}]);
//# sourceMappingURL=../sourcemaps/lazy/43.8cfd6a6b83837153503a.js.map